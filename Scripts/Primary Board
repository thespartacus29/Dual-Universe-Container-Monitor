{"slots":{"0":{"name":"container1","type":{"events":[],"methods":[]}},"1":{"name":"screen","type":{"events":[],"methods":[]}},"2":{"name":"DB1","type":{"events":[],"methods":[]}},"3":{"name":"DB2","type":{"events":[],"methods":[]}},"4":{"name":"container2","type":{"events":[],"methods":[]}},"5":{"name":"container3","type":{"events":[],"methods":[]}},"6":{"name":"container4","type":{"events":[],"methods":[]}},"7":{"name":"switch","type":{"events":[],"methods":[]}},"8":{"name":"container5","type":{"events":[],"methods":[]}},"9":{"name":"DB3","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"switch.deactivate()","filter":{"args":[],"signature":"stop()","slotKey":"-1"},"key":"0"},{"code":"switch.activate()\nunit.setTimer(\"Live\",1)\n\n\n","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"1"},{"code":"-- Functions\nfunction containerStatus(percent)\n    if percent <= 25 then return \"CRITICAL\"\n    elseif percent > 25 and percent < 50 then return \"LOW\"\n    else return \"GOOD\"\n    end\nend\n\n-- Global Variables\nlocal title = \"Default Title\" --export\nlocal showSafetyStock = true --export\nlocal criticalColor = \"red\" --export\nlocal lowColor = \"yellow\" --export\nlocal goodColor = \"green\" --export\n\n-- DB Variables: If you need to use less than 3 Secondary boards, you need to turn off each\n--               db in parameters\nlocal db1Enabled = true --export\nif db1Enabled == true then\n\tsb1html = DB1.getStringValue(SB1)\nelse\n     sb1html = [[]]\nend\n\nlocal db2Enabled = true --export\nif db2Enabled == true then\n\tsb2html = DB2.getStringValue(SB2)\nelse\n\tsb2html = [[]]\nend\n\nlocal db3Enabled = true --export\nif db3Enabled == true then\n\tsb3html = DB3.getStringValue(SB3)\nelse\n\tsb3html = [[]]\nend\n\n-- Contatiner 1 Variables\nlocal container1Enabled = true --export\nlocal container1Label = \"Default Label\" --export\nlocal container1Density = 0 --export\nif container1Enabled == true then        \n\tcontainer1Mass = container1.getItemsMass()      \n     container1Qty = math.ceil(( container1Mass/container1Density ))    \n     container1SafetyStock = 0 --export\n     container1Percent = (( container1Qty/container1SafetyStock ) * 100 )\n     container1Status = containerStatus(container1Percent)\n     if showSafetyStock == true then\n        container1QtyFull = container1Qty .. \"/\" .. container1SafetyStock\n     else\n        container1QtyFull = container1Qty\n     end\n\tcontainer1HTML = [[\n        <tr>\n          <td>]]..container1Label..[[</td>\n          <td>]]..container1QtyFull..[[</td>\n          <td class=\"]]..container1Status..[[\">]]..container1Status..[[</td>\n        </tr>  \n    ]]\nelse \n     container1HTML = [[]]\nend\t\n-- Contatiner 2 Variables\nlocal container2Enabled = true --export\nlocal container2Label = \"Default Label\" --export\nlocal container2Density = 0 --export\nif container2Enabled == true then   \n    container2Mass = container2.getItemsMass()\n    container2Qty = math.ceil(( container2Mass/container2Density ))\n    container2SafetyStock = 0 --export\n    container2Percent = (( container2Qty/container2SafetyStock ) * 100 )\n    container2Status = containerStatus(container2Percent) \n    if showSafetyStock == true then\n        container2QtyFull = container2Qty .. \"/\" .. container2SafetyStock\n    else\n        container2QtyFull = container2Qty\n    end\n    container2HTML = [[\n        <tr>\n          <td>]]..container2Label..[[</td>\n          <td>]]..container2QtyFull..[[</td>\n          <td class=\"]]..container2Status..[[\">]]..container2Status..[[</td>\n        </tr>\n    ]]\nelse\n    container2HTML = [[]]\nend\n\nlocal container3Enabled = true --export\nlocal container3Label = \"Default Label\" --export\nlocal container3Density = 0 --export\nif container3Enabled == true then\n    container3Mass = container3.getItemsMass()\n    container3Qty = math.ceil(( container3Mass/container3Density ))\n    container3SafetyStock = 0 --export\n    container3Percent = (( container3Qty/container3SafetyStock ) * 100 )\n    container3Status = containerStatus(container3Percent)\n    if showSafetyStock == true then\n        container3QtyFull = container3Qty .. \"/\" .. container3SafetyStock\n    else\n        container3QtyFull = container3Qty\n    end\n    container3HTML = [[\n        <tr>\n          <td>]]..container3Label..[[</td>\n          <td>]]..container3QtyFull..[[</td>\n          <td class=\"]]..container3Status..[[\">]]..container3Status..[[</td>\n        </tr>\n    ]]\nelse\n    container3HTML = [[]]\nend\n\nlocal container4Enabled = true --export\nlocal container4Label = \"Default Label\" --export\nlocal container4Density = 0 --export\nif container4Enabled == true then\n    container4Mass = container4.getItemsMass()\n    container4Qty = math.ceil(( container4Mass/container4Density ))\n    container4SafetyStock = 0 --export\n    container4Percent = (( container4Qty/container4SafetyStock ) * 100 )\n    container4Status = containerStatus(container4Percent)\n    if showSafetyStock == true then\n        container4QtyFull = container4Qty .. \"/\" .. container4SafetyStock\n    else\n        container4QtyFull = container4Qty\n    end\n    container4HTML = [[\n        <tr>\n          <td>]]..container4Label..[[</td>\n          <td>]]..container4QtyFull..[[</td>\n          <td class=\"]]..container4Status..[[\">]]..container4Status..[[</td>\n        </tr>\n    ]]\nelse\n    container4HTML = [[]]\nend\n\nlocal container5Enabled = true --export\nlocal container5Label = \"Default Label\" --export\nlocal container5Density = 0 --export\nif container5Enabled == true then\n    container5Mass = container5.getItemsMass()\n    container5Qty = math.ceil(( container5Mass/container5Density ))\n    container5SafetyStock = 0 --export\n    container5Percent = (( container5Qty/container5SafetyStock ) * 100 )\n    container5Status = containerStatus(container5Percent)\n    if showSafetyStock == true then\n        container5QtyFull = container5Qty .. \"/\" .. container5SafetyStock\n    else\n        container5QtyFull = container5Qty\n    end\n    container5HTML = [[\n        <tr>\n          <td>]]..container5Label..[[</td>\n          <td>]]..container5QtyFull..[[</td>\n          <td class=\"]]..container5Status..[[\">]]..container5Status..[[</td>\n        </tr>\n    ]]\nelse\n    container5HTML = [[]]\nend\n\nhtml = [[\n<div style=\"width=100vw\">\n<h1 style=\"font-size: 4vw; text-align: center;\">]]..title..[[</h1>\n<div style=\"margin-top: 0px;padding: 0px;width: 100vw;display: inline-block;\"> \n<style>\n.row {\n  margin-left:5px;\n  margin-right:5px;\n}  \n.column {\n  float: left;\n  width: 50%;\n  padding: 5px;\n  background-color: black;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n  width: 100%;\n  border: 1px solid blue;\n}\ntr{\n  border: 1px solid blue;\t\n}\nth {  \n  opacity: 0.8;\n  color: orange;\n  text-align: center;\n  padding: 8px;\n  font-size: 3vw;\n}\ntd {\n  text-align: center;\n  padding: 5px;\n  font-size: 2.1vw;\n}\ntr:nth-child(even) {\n  background-color: #0080FF30;  \n}\n.CRITICAL{\n  color: ]]..criticalColor..[[;\n}\n.LOW{\n  color: ]]..lowColor..[[;\n}\n.GOOD{\n  color: ]]..goodColor..[[;\n}         \n</style> \n\n<div class=\"row\">\n  <div class=\"column\">\n      <table>\n        <tr>  \n          <th>Name</th>\n          <th>Qty</th>\n          <th>Status</th>\n        </tr>\n        ]]..container1HTML..[[\n        ]]..container2HTML..[[\n        ]]..container3HTML..[[\n        ]]..container4HTML..[[\n        ]]..container5HTML..[[        \n  \t   ]]..sb1html..[[\n\t   \n      </table>      \n  </div>\n<div class=\"column\">\n      <table>\n        <tr>  \n          <th>Name</th>\n          <th>Qty</th>\n          <th>Status</th>\n        </tr>        \n  \t   ]]..sb2html..[[\n\t   ]]..sb3html..[[\n      </table>      \n  </div>\n  \n</div>\n</div>\n]]\n\nscreen.setHTML(html)","filter":{"args":[{"value":"Live"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"2"}],"methods":[],"events":[]}
